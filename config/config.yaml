# ===================================================================
# Starrain-BOT 配置文件
# 请根据实际情况修改配置
# ===================================================================

# -------------------------------------------------------------------
# OneBot 协议配置
# -------------------------------------------------------------------
onebot:
  connection_type: "http"

  # Token 认证 (适用于 http, ws, reverse_ws 所有连接类型)
  # 与 NapCat 配置中的 token 字段对应
  access_token: ""

  # 正向 WebSocket 地址
  url: "ws://localhost:3001"

  # HTTP API 地址
  http_url: "http://localhost:3000"
  timeout: 30

  # HTTP POST 事件上报配置
  http_post_enabled: true
  http_post_host: "127.0.0.1"
  http_post_port: 5700
  http_post_secret: ""

  # 反向 WebSocket 地址 (NapCat 主动连接此地址)
  reverse_ws_url: "ws://0.0.0.0:3002"

# -------------------------------------------------------------------
# 机器人配置
# -------------------------------------------------------------------
bot:
  qq: 123456789
  auto_reconnect: true
  reconnect_interval: 5000
  max_reconnect_attempts: 10

# -------------------------------------------------------------------
# 权限配置
# -------------------------------------------------------------------
permission:
  admins: []
  enable_group_permission: true

# -------------------------------------------------------------------
# 插件配置
# -------------------------------------------------------------------
plugin:
  dir: "./plugins"
  data_dir: "data"
  auto_load: true
  hot_reload: true
  metadata_file: "plugin_metadata.json"

# -------------------------------------------------------------------
# 日志配置
# -------------------------------------------------------------------
log:
  level: "INFO"
  file: "logs/bot.log"
  console: true
  color: true

# -------------------------------------------------------------------
# 渲染配置
# -------------------------------------------------------------------
renderer:
  engine: "puppeteer"
  cache_dir: "./cache"
  max_cache_size: 100
  default_width: 800
  default_height: 600
  cache_expire: 3600
  puppeteer:
    headless: true
    wait_network_idle: true
    timeout: 30000
    fonts:
      default: '"Microsoft YaHei", Arial, sans-serif'
      title: '"Microsoft YaHei Bold", Arial Bold, sans-serif'

# -------------------------------------------------------------------
# MySQL 配置 (可选)
# -------------------------------------------------------------------
mysql:
  host: "127.0.0.1"
  port: 3306
  user: "root"
  password: ""
  database: "starrain_bot"
  charset: "utf8mb4"

# -------------------------------------------------------------------
# Web 管理后台配置
# -------------------------------------------------------------------
web:
  enabled: true
  host: "127.0.0.1"
  port: 8080
  secret: ""
  username: "admin"
  password: "admin123"
